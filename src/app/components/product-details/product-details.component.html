<ng-container *ngIf="product">
  <a [routerLink]="['/shop/categories', product.category]" class="fs-5 text-dark">{{product.category}}</a>
  <span class="fs-3"> / </span>
  <span class="fs-2 text-dark fw-bold">{{product.name}}</span>
  <div class="row rounded-5 shadow mt-4 bg-light ">
    <div id="carouselExampleCaptions"
         class="d-flex justify-content-center align-self-center object-fit-cover ratio-1x1 col carousel slide ">
      <!-- TODO -->
      <div class="carousel-indicators">
        <ng-container *ngFor="let p of product.images; index as i">
          <button type="button" 
                  data-bs-target="#carouselExampleCaptions" 
                  [attr.data-bs-slide-to]="i"
                  class="bg-secondary rounded-right rounded-left" 
                  [attr.aria-label]="'Slide '+  (i + 1)"
                  [class.active]="i == 0">
          </button>
        </ng-container>
      </div>
      <div class="carousel-inner w-75 ">
        <ng-container *ngFor="let p of product.images; index as i">
          <div class="carousel-item " [class.active]="i == 0">
            <img [src]="'assets/img/' + p" alt="Immagine non trovata" class="d-flex align-self-center w-100 p-4">
            <div class="carousel-caption d-none d-md-block"></div>
          </div>
        </ng-container>
      </div>
      <a href="#" class="pe-auto text-secondary"><i data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" class="bi bi-caret-left-fill position-absolute top-50 start-0 translate-middle ms-4"></i>
        <span class="visually-hidden">Previous</span></a>

      <a href="#" class="pe-auto text-secondary"><i class="bi bi-caret-right-fill position-absolute top-50 start-100 translate-middle pe-5" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        </i><span class="visually-hidden">Next</span></a>
      
    </div>
    <div class="p-3 d-flex flex-column justify-content-between  bg-white  col shadow rounded-5 m-5 p-5">
      <div class="row ">
        <div class="col">
          <h2>{{product.name}}</h2>
          <span>{{product.description}}</span>
        </div>
      </div>
      <div class="row my-5">
        <div class="col" [class.text-decoration-line-through]="product.offertPrice != undefined">
          <h3 [class.fs-5]="product.offertPrice != undefined">€ {{product.price}}</h3>
        </div>
        <ng-container *ngIf="product.offertPrice != undefined">
          <h2 class="text-danger">€ {{product.offertPrice}}</h2>
        </ng-container>
      </div>
      <div class="row ">
        <div class="col">
          <button class="btn btn-primary" (click)="addProduct()">Aggiungi</button>
        </div>
        <div class="col-9">
          <app-quantity (quantityEvent)="changeQuantity($event)"></app-quantity>
        </div>
      </div>
    </div>
  </div>
  <hr class="my-5">
</ng-container>

